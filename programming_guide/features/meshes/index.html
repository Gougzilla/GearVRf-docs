
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for GearVR Framework">
      
      
      
        <meta name="author" content="GearVR Framework Team">
      
      
        <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.4">
    
    
      
        <title>Meshes - GearVR Framework</title>
      
    
    
      <script src="../../../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application-769c285a91.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../../.." title="GearVR Framework" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Programming Guide
                </span>
              
                <span class="md-header-nav__parent">
                  Features
                </span>
              
            
            Meshes
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    GearVR Framework
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../getting_started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/simple_vr_app/" title="Simple VR app" class="md-nav__link">
      Simple VR app
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/360_photo_app/" title="360 Photo app" class="md-nav__link">
      360 Photo app
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Programming Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Programming Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2" checked>
    
    <label class="md-nav__link" for="nav-4-2">
      Features
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../loading_assets/" title="Loading Assets" class="md-nav__link">
      Loading Assets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../render_data/" title="Render Data" class="md-nav__link">
      Render Data
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Meshes
      </label>
    
    <a href="./" title="Meshes" class="md-nav__link md-nav__link--active">
      Meshes
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#skinned-meshes" title="Skinned Meshes" class="md-nav__link">
    Skinned Meshes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-mesh-components" title="Accessing Mesh Components" class="md-nav__link">
    Accessing Mesh Components
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mesh-construction-example" title="Mesh Construction Example" class="md-nav__link">
    Mesh Construction Example
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../materials/" title="Materials" class="md-nav__link">
      Materials
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lighting/" title="Lighting" class="md-nav__link">
      Lighting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../phong_shader_template/" title="Phong Shader Template" class="md-nav__link">
      Phong Shader Template
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../builtin_legacy_shader/" title="Built-In Legacy Shader" class="md-nav__link">
      Built-In Legacy Shader
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../picking/" title="Picking" class="md-nav__link">
      Picking
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api_reference/" title="API Reference" class="md-nav__link">
      API Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_instructions/" title="Build Instructions" class="md-nav__link">
      Build Instructions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../gearvr_settings_files/" title="GearVRf Settings File" class="md-nav__link">
      GearVRf Settings File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../video_tutorials/" title="Video Tutorials" class="md-nav__link">
      Video Tutorials
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sample_code/" title="Sample Code" class="md-nav__link">
      Sample Code
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../about/contribution/" title="Contribution" class="md-nav__link">
      Contribution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../about/certificate/" title="Developer Certificate of Origin" class="md-nav__link">
      Developer Certificate of Origin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../about/release_notes/" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../about/roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../about/privacy_policy/" title="Privacy Policy" class="md-nav__link">
      Privacy Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../about/marketing_resource/" title="Marketing Resources" class="md-nav__link">
      Marketing Resources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#skinned-meshes" title="Skinned Meshes" class="md-nav__link">
    Skinned Meshes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-mesh-components" title="Accessing Mesh Components" class="md-nav__link">
    Accessing Mesh Components
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mesh-construction-example" title="Mesh Construction Example" class="md-nav__link">
    Mesh Construction Example
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Meshes</h1>
                
                <p>VR mesh types, access, and examples</p>
<p>Indexed triangle meshes are the only shape definition currently supported by GearVRF. Each mesh contains a set of vertices with the 3D locations of the triangle coordinates. Typically these are unique locations to maximize vertex sharing but this is not a requirement. A triangle has three indices designating which vertices are used by that triangle.</p>
<p>In addition to positions, a mesh may have normals and texture coordinates as well. These arrays, if present, must follow the same ordering as the vertices. There is only one set of triangle indices to reference the position, normal and texture coordinate. This is unlike some systems which permit multiple index tables. </p>
<p><img alt="" src="../../../../images/GVRf_Mesh.png" /></p>
<h2 id="skinned-meshes">Skinned Meshes<a class="headerlink" href="#skinned-meshes" title="Permanent link">&para;</a></h2>
<p>Skinned meshes have vertex bone data to indicate which bones affect which vertices in the mesh. A bone is a transform matrix which affects a subset of vertices in the mesh. Each vertex can be influenced by up to four bones.</p>
<p>A mesh also contains a list of the bone transforms (GVRBone objects) that influence its vertices. The bone indices in the vertex array reference the bones in this list.</p>
<p>GearVRf executes skinning on the GPU but it calculates the bone matrices on the CPU.</p>
<p><img alt="" src="../../../../images/GVRf_Skinned_Mesh.png" /></p>
<h2 id="accessing-mesh-components">Accessing Mesh Components<a class="headerlink" href="#accessing-mesh-components" title="Permanent link">&para;</a></h2>
<p>The vertex shader used to render the mesh determines which vertex components are required. The GearVRf build-in shaders rely on positions, normals, texture coordinates and bone information. You can write your own shaders which use other vertex components.</p>
<p>Each vertex component has a unique name and type. GearVRf vertex components are vectors containing between one and four floats. Each component has a function wh|ich can get or set that component for the entire vertex array. GVRMesh provides convenience functions for the built-in types. Reading or writing the vertex array is a high overhead operation and should not be done every frame.</p>
<p>The index array describes an indexed triangle list. Each triangle has three consecutive 32-bit indices in the array designating the vertices from the vertex array that represent that triangle. The setIndices andgetIndices function provide access to the GVRMesh triangle data.</p>
<table>
<thead>
<tr>
<th>Shader Name</th>
<th>GVRMesh Setter</th>
<th>GVRMesh Getter</th>
</tr>
</thead>
<tbody>
<tr>
<td>a_position</td>
<td>setVertices(float)</td>
<td>float[] getVertices()</td>
</tr>
<tr>
<td>a_normal</td>
<td>setNormals(float[])</td>
<td>float[] getNormals()</td>
</tr>
<tr>
<td>a_texcoord</td>
<td>setTexCoords(float[])</td>
<td>float[] getTexCoords()</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Shader Type</th>
<th>GVRMesh Setter</th>
<th>GVRMesh Getter</th>
</tr>
</thead>
<tbody>
<tr>
<td>float3</td>
<td>setVec3Vector(String name, float[])</td>
<td>float[] getVec3Vector(String name)</td>
</tr>
<tr>
<td>float2</td>
<td>setVec2Vector(String name, float[])</td>
<td>float[] getVec2Vector(String name)</td>
</tr>
<tr>
<td>float4</td>
<td>setVec4Vector(String name, float[])</td>
<td>float[] getVec4Vector(String name)</td>
</tr>
<tr>
<td>float</td>
<td>setFloatVector(String name, float[])</td>
<td>float[] getFloatVectorString name()</td>
</tr>
</tbody>
</table>
<h2 id="mesh-construction-example">Mesh Construction Example<a class="headerlink" href="#mesh-construction-example" title="Permanent link">&para;</a></h2>
<p>Most of the time your code will obtain meshes by loading asset files. You can also construct or modify meshes programmatically. A mesh may contain positions, normal and texture coordinates. Depending on the shader used to display the mesh, some of these vertex components may not be used. For example, a shader which does not do lighting will typically not need normals. You can omit the normals and texture coordinate arrays if your shader doesn't need them.</p>
<p>This function constructs a mesh of two triangles with only positions and normals. (If you try to use a textured shader with this mesh, you will get an error.)</p>
<div class="codehilite"><pre><span></span><span class="n">GVRMesh</span> <span class="nf">createMesh</span><span class="o">(</span><span class="n">GVRContext</span> <span class="n">gvrContext</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">GVRMesh</span> <span class="n">mesh</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GVRMesh</span><span class="o">(</span><span class="n">gvrContext</span><span class="o">);</span>
    <span class="kt">float</span><span class="o">[]</span> <span class="n">vertices</span> <span class="o">=</span>
    <span class="o">{</span>
        <span class="o">-</span><span class="mf">1.0f</span><span class="o">,</span> <span class="mf">0.0f</span><span class="o">,</span> <span class="mf">0.0f</span><span class="o">,</span>
        <span class="mf">0.0f</span><span class="o">,</span> <span class="mf">1.0f</span><span class="o">,</span> <span class="mf">0.0f</span><span class="o">,</span>
        <span class="mf">1.0f</span><span class="o">,</span> <span class="mf">0.0f</span><span class="o">,</span> <span class="mf">0.0f</span><span class="o">,</span>
        <span class="mf">0.0f</span><span class="o">,</span> <span class="o">-</span><span class="mf">1.0f</span><span class="o">,</span> <span class="mf">0.0f</span>
    <span class="o">};</span>
    <span class="kt">float</span><span class="o">[]</span> <span class="n">normals</span> <span class="o">=</span>
    <span class="o">{</span>
        <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span>
        <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span>
        <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span>
        <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span>
    <span class="o">};</span>
    <span class="kt">char</span><span class="o">[]</span> <span class="n">triangles</span> <span class="o">=</span> <span class="o">{</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">0</span> <span class="o">};</span>
    <span class="n">mesh</span><span class="o">.</span><span class="na">setVertices</span><span class="o">(</span><span class="n">vertices</span><span class="o">);</span>
    <span class="n">mesh</span><span class="o">.</span><span class="na">setNormals</span><span class="o">(</span><span class="n">normals</span><span class="o">);</span>
    <span class="n">mesh</span><span class="o">.</span><span class="na">setTriangles</span><span class="o">(</span><span class="n">triangles</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">mesh</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>


<p>You need to attach your mesh to a GVRSceneObject before it can be displayed. The GVRRenderData object holds both a mesh and a material. Each visible scene object must have render data. This code adds the newly constructed mesh to the scene. Here we assume the GVRMaterial has already been constructed.</p>
<div class="codehilite"><pre><span></span><span class="n">GVRMesh</span> <span class="n">mesh</span> <span class="o">=</span> <span class="n">createMesh</span><span class="o">(</span><span class="n">gvrContext</span><span class="o">);</span>
<span class="n">GVRSceneObject</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GVRSceneObject</span><span class="o">(</span><span class="n">gvrContext</span><span class="o">,</span> <span class="n">mesh</span><span class="o">);</span>
<span class="n">GVRRenderData</span> <span class="n">rdata</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getRenderData</span><span class="o">();</span>
<span class="n">rdata</span><span class="o">.</span><span class="na">setMaterial</span><span class="o">(</span><span class="n">material</span><span class="o">);</span>
</pre></div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../render_data/" title="Render Data" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Render Data
              </span>
            </div>
          </a>
        
        
          <a href="../materials/" title="Materials" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Materials
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2016 - 2017 Samsung
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application-c35428f87f.js"></script>
      
      
      <script>app.initialize({url:{base:"../../.."}})</script>
      
    
    
      
    
  </body>
</html>